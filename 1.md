
2025/05/07 14:54:35 Responded with 0 answers
2025/05/07 14:54:35 DNS request received: [{
    
simple-server.default.svc.cluster-a.cluster-a.local. 28 1}] from 127.0.0.1:42779, mappings: map[
simple-server.default.svc.cluster-a.local.:127.0.66.0]
2025/05/07 14:54:35 DNS request received: [{simple-server.default.svc.cluster-a.cluster-a.local. 1 1}] from 127.0.0.1:42779, mappings: map[simple-server.default.svc.cluster-a.local.:127.0.66.0]
2025/05/07 14:54:35 Handling DNS A query for simple-server.default.svc.cluster-a.cluster-a.local.
2025/05/07 14:54:35 No DNS mapping for simple-server.default.svc.cluster-a.cluster-a.local., skipping
2025/05/07 14:54:35 Responded with 0 answers



default
Search Pods...
6 items
client
default
N/A
N/A
0
i-0jpjme2g
BestEffort
29s
Running
dns-hijack-test-1
default
N/A
N/A
0
i-0jpjme2g
BestEffort
3d4h
Running
http-test-client-c49fd9f46-cp4nv
default
N/A
N/A
0
ReplicaSet
i-0jpjme2g
BestEffort
6d
Running
http-test-server-b4cb45cb-w67bg
default
N/A
N/A
0
ReplicaSet
i-0jpjme2g
BestEffort
6d1h
Running
k3s-server
default
N/A
N/A
0
i-0jpjme2g
BestEffort
31h
Running
server
default
N/A
N/A
0
i-0jpjme2g
BestEffort
30s
Running
sidecar
Search in logs
0 / 0





Displaying logs from Namespace: default for Pod: client. Logs from 2025/5/8 GMT+8 0:07:34
Loading...
2025/05/07 16:07:34 Metrics and health listening on :1080
E0507 16:07:34.648247       1 loader.go:23] failed to read main configuration file: failed to read main configuration file: Config File "config" Not Found in "[/etc/servicekeel /config /]"
I0507 16:07:34.648966       1 main.go:72] Configuration:
dns:
    iprange: 127.0.66.0/24
    addr: 127.0.0.2:53
metrics:
    addr: :8080
exportedservices:
    services: []
importedservices:
    services:
        - name: simple-server
          namespace: default
          cluster: cluster-a.local
          ports:
            - name: tcp
              port: 8080
              targetport: 8080
              protocol: TCP
            - name: udp
              port: 8081
              targetport: 8081
              protocol: UDP
        - name: simple-server2
          namespace: default
          cluster: cluster-a.local
          ports:
            - name: tcp
              port: 8080
              targetport: 8080
              protocol: TCP
            - name: udp
              port: 8081
              targetport: 8081
              protocol: UDP
2025/05/07 16:07:34 DNS server bound to 127.0.0.2:53
2025/05/07 16:07:34 DNS hijacking server started, listening on 127.0.0.2:53
I0507 16:07:34.649171       1 client.go:86] Starting FRP client simple-server.default.svc.cluster-a.local:tcp: [stcp visitor -n simple-server.default.svc.cluster-a.local:tcp --server-name simple-server.default.svc.cluster-a.local --sk servicekeel-secret-key --bind-addr 127.0.66.0 --bind-port 8080 --server-listen /tmp/frp.sock]
I0507 16:07:34.649528       1 client.go:86] Starting FRP client simple-server.default.svc.cluster-a.local:udp: [stcp visitor -n simple-server.default.svc.cluster-a.local:udp --server-name simple-server.default.svc.cluster-a.local --sk servicekeel-secret-key --bind-addr 127.0.66.0 --bind-port 8081 --server-listen /tmp/frp.sock]
I0507 16:07:34.649768       1 client.go:86] Starting FRP client simple-server2.default.svc.cluster-a.local:tcp: [stcp visitor -n simple-server2.default.svc.cluster-a.local:tcp --server-name simple-server2.default.svc.cluster-a.local --sk servicekeel-secret-key --bind-addr 127.0.66.1 --bind-port 8080 --server-listen /tmp/frp.sock]
I0507 16:07:34.650638       1 client.go:86] Starting FRP client simple-server2.default.svc.cluster-a.local:udp: [stcp visitor -n simple-server2.default.svc.cluster-a.local:udp --server-name simple-server2.default.svc.cluster-a.local --sk servicekeel-secret-key --bind-addr 127.0.66.1 --bind-port 8081 --server-listen /tmp/frp.sock]
2025-05-07 16:07:34.653 [I] [client/service.go:295] try to connect to server...
2025-05-07 16:07:34.653 [I] [client/service.go:295] try to connect to server...



Displaying logs from Namespace: default for Pod: server. Logs from 2025/5/8 GMT+8 0:07:36
Loading...
2025/05/07 16:07:36 Metrics and health listening on :1080
E0507 16:07:36.719304       1 loader.go:23] failed to read main configuration file: failed to read main configuration file: Config File "config" Not Found in "[/etc/servicekeel /config /]"
I0507 16:07:36.719934       1 main.go:72] Configuration:
dns:
    iprange: 127.0.66.0/24
    addr: 127.0.0.2:53
metrics:
    addr: :8080
exportedservices:
    services:
        - name: simple-server
          namespace: default
          cluster: cluster-a.local
          ports:
            - name: tcp
              port: 8080
              targetport: 8080
              protocol: TCP
            - name: udp
              port: 8081
              targetport: 8081
              protocol: UDP
importedservices:
    services:
        - name: other-service
          namespace: default
          cluster: cluster-b
          ports: []
2025/05/07 16:07:36 DNS server bound to 127.0.0.2:53
2025/05/07 16:07:36 DNS hijacking server started, listening on 127.0.0.2:53
I0507 16:07:36.720182       1 client.go:86] Starting FRP client simple-server.default.svc.cluster-a.local:tcp: [stcp server -n simple-server.default.svc.cluster-a.local:tcp --sk servicekeel-secret-key --local-port 8080 --server-listen /tmp/frp.sock]
I0507 16:07:36.720673       1 client.go:86] Starting FRP client simple-server.default.svc.cluster-a.local:udp: [stcp server -n simple-server.default.svc.cluster-a.local:udp --sk servicekeel-secret-key --local-port 8081 --server-listen /tmp/frp.sock]
2025-05-07 16:07:36.724 [I] [client/service.go:295] try to connect to server...
2025-05-07 16:07:36.724 [I] [client/service.go:295] try to connect to server...
2025-05-07 16:07:36.728 [I] [client/service.go:287] [2f29796517a5ba7f] login to server success, get run id [2f29796517a5ba7f]
2025-05-07 16:07:36.728 [I] [proxy/proxy_manager.go:173] [2f29796517a5ba7f] proxy added: [simple-server.default.svc.cluster-a.local:tcp]
2025-05-07 16:07:36.728 [I] [client/service.go:287] [be52fcab68fb9abb] login to server success, get run id [be52fcab68fb9abb]
2025-05-07 16:07:36.728 [I] [proxy/proxy_manager.go:173] [be52fcab68fb9abb] proxy added: [simple-server.default.svc.cluster-a.local:udp]
2025-05-07 16:07:36.728 [I] [client/control.go:168] [2f29796517a5ba7f] [simple-server.default.svc.cluster-a.local:tcp] start proxy success
2025-05-07 16:07:36.729 [I] [client/control.go:168] [be52fcab68fb9abb] [simple-server.default.svc.cluster-a.local:udp] start proxy success



simple-server.default.svc.cluster-a.local





simple-server2.default.cluster-a.local. 28 1
simple-server.default.svc.cluster-a.local.:127.0.66.0 
simple-server2.default.svc.cluster-a.local.:127.0.66.1]
2025/05/07 17:12:45 Responded with 0 answers
2025/05/07 17:12:45 DNS request received: [{simple-server2.default.cluster-a.local. 1 1}] from 127.0.0.1:60699, mappings: map[simple-server.default.svc.cluster-a.local.:127.0.66.0 simple-server2.default.svc.cluster-a.local.:127.0.66.1]
